<div id="map-browser" class="d-inline-block">
    <div id="map-block">


        <div id="map" class="map" {#tabindex="0" #}>

            <div id="search-toponyme">

                <div class="input-group">
                    <input type="text" class="form-control form-control-lg" id="search-toponyme-input"
                        placeholder="Rechercher un toponyme">
                    <span id="toponyme-autocomplete-loading" class="input-group-text">
                        <span id="toponyme-autocomplete-spinner" class="spinner-grow spinner-grow-sm"></span>
                    </span>
                </div>
                <!--<button id="search-lieu-dit-exec" class="btn btn-secondary btn-opt-layer bi bi-layers-half btn-dropdown" title="lancer la rechercher"></button>-->

                <div id="toponyme-autocomplete" class="hide"></div>
            </div>


            <div id="basemap-selector">
                <div class="dropdown">
                    <button class="btn btn-secondary btn-opt-layer bi bi-layers-half btn-dropdown"
                        onclick="openDropdown(this)" title="Fond de carte"></button>
                    <div id="basemap-dropdown-content" class="dropdown-content hide">
                    </div>
                </div>
            </div>

            <div id="bloc-clicked-features-attributes" class="hide">
                <div id="bloc-clicked-features-attributes-content">
                    <!--<ul class="layer-list">

                        <li class="layer-item" layerUid="3">
                            <span class="clickable" onclick="showFeaturesList(this)">Layer-1</span>
                            <ul class="feature-list hide">
                                <li class="feature-item" featureUid="111">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-1.1</span>
                                    <i class="bi bi-search zoom-to-feature" onclick="zoomToFeature(this)"></i>
                                    <ul class="properties-list hide">
                                        <li class="propertie-item">
                                            <div class="propertie-name">propertie-1.1.1 :</div>
                                            <div class="propertie-value">value 1.1.1</div>
                                        </li>
                                        <li class="propertie-item">
                                            <div class="propertie-name">propertie-1.1.2 :</div>
                                            <div class="propertie-value">value 1.1.2</div>
                                        </li>
                                        <li class="propertie-item">
                                            <div class="propertie-name">propertie-1.1.3 :</div>
                                            <div class="propertie-value">value 1.1.3 sefsz efsef zef zedfg zet gsdg </div>
                                        </li>
                                    </ul>
                                </li>
                                <li class="feature-item">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-1.2</span>
                                    <i class="bi bi-search zoom-to-feature" targetFeatureUid="111"></i>
                                    <ul class="properties-list hide">
                                        <li class="propertie-item">
                                            <div class="propertie-name">propertie-1.2.1 :</div>
                                            <div class="propertie-value">value 1.2.1</div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <li  class="layer-item">
                            <span class="clickable" onclick="showFeaturesList(this)">Layer-2</span>
                            <ul class="feature-list hide">
                                <li class="feature-item">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-2.1</span>
                                    <i class="bi bi-search zoom-to-feature" targetFeatureUid="111"></i>
                                </li>
                            </ul>
                        </li>
                        <li class="layer-item">
                            <span class="clickable" onclick="showFeaturesList(this)">Layer-3</span>
                            <ul class="feature-list hide">
                                <li class="feature-item">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-3.1</span>
                                    <i class="bi bi-search zoom-to-feature" targetFeatureUid="111"></i>
                                </li>
                                <li class="feature-item">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-3.2</span>
                                    <i class="bi bi-search zoom-to-feature" targetFeatureUid="111"></i>
                                </li>
                            </ul>
                        </li>
                        <li class="layer-item">
                            <span class="clickable" onclick="showFeaturesList(this)">Layer-4</span>
                            <ul class="feature-list hide">
                                <li class="feature-item">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-4.1</span>
                                    <i class="bi bi-search zoom-to-feature" targetFeatureUid="111"></i>
                                </li>
                                <li class="feature-item">
                                    <span class="clickable" onclick="showPropertiesList(this)">Feature-4.2</span>
                                    <i class="bi bi-search zoom-to-feature" targetFeatureUid="111"></i>
                                </li>
                            </ul>
                        </li>
                        
                    </ul>-->
                </div>

                <div id="close-bloc-clicked-features-attributes" class="text-center">
                    <button id="close-bloc-clicked-features-attributes-btn"
                        class="btn btn-warning ml-auto mr-auto">Fermer</button>
                </div>
            </div>

            <!-- 
                --  Emplacement des bouton d'édition 
            -->
            <div id="tools-btn-group" class="tools-btn-group">
                <!-- Bouton d'édition pour la calculette des enjeux calculette des enjeux-->
                <div id="challenge-calculator-group-edit-btn" class="edit-layer-btn-group hide">

                    <button id="btn-challenge-calculator-upload" type="button" class="btn btn-primary check-auth"
                        {#modal-target="upload-challenge-calculator-layer-modal"#} toggle-tooltip="tooltip" data-bs-placement="bottom" 
                        data-bs-trigger="hover" title="Importer un périmètre">
                        <i id="icon-challenge-calculator-upload" class="bi bi-upload"></i>
                    </button>
                    
                    <!--<div class="btn-group-vertical" class="text-center">-->
                    <button id="btn-challenge-calculator-edit-feature" type="button" class="btn btn-primary check-auth"
                        toggle-tooltip="tooltip" data-bs-placement="bottom" data-bs-trigger="hover"
                        title="Editer la zone d'extraction">
                        <i id="icon-challenge-calculator-edit-feature" class="bi bi-pencil"></i>
                    </button>
                    <!--</div>-->

                    <!--<div class="btn-group-vertical" class="text-center">-->
                    <button id="btn-challenge-calculator-remove-feature" type="button"
                        class="btn btn-primary check-auth disabled" toggle-tooltip="tooltip" data-bs-placement="bottom"
                        data-bs-trigger="hover" title="Supprimer un périmètre">
                        <i id="icon-challenge-calculator-remove-feature" class="bi bi-trash"></i>
                    </button>
                    <!--</div>-->

                    <!--<div class="btn-group-vertical" class="text-center">-->
                    <button id="btn-challenge-calculator-execute" type="button"
                        class="btn btn-primary check-auth disabled" toggle-tooltip="tooltip" data-bs-placement="bottom"
                        data-bs-trigger="hover" title="Lancer le calcul des enjeux">
                        <div id="warning-calculator-spinner" class="spinner-grow spinner-grow-sm hide" role="status">
                        </div>
                        <i id="icon-challenge-calculator-execute" class="bi bi-play-fill"></i>
                    </button>
                    <!--</div>-->

                    <button id="btn-challenge-calculator-info" type="button" class="btn btn-primary check-auth"
                        {#modal-target="challenge-calculator-info-modal" #} toggle-tooltip="tooltip"
                        data-bs-placement="bottom" data-bs-trigger="hover" title="Informations sur la calculette">
                        <div id="challenge-calculator-info-spinner" class="spinner-grow spinner-grow-sm hide"
                            role="status"></div>
                        <i id="icon-challenge-calculator-info" class="bi bi-info-circle"></i>
                    </button>
                </div>




                <!-- Bouton d'édition pour la couche de dessin-->
                <div id="drawing-layer-group-edit-btn" class="edit-layer-btn-group hide">
                    <button id="btn-drawing-layer-previous" type="button" class="btn btn-primary check-auth disabled"
                        toggle-tooltip="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" title="Annuler"
                        geom-type="Polygon">
                        <i class="bi bi-arrow-90deg-left"></i>
                    </button>

                    <button id="btn-drawing-layer-add-polygon" type="button"
                        class="btn btn-primary check-auth btn-drawing-layer-addfeature" toggle-tooltip="tooltip"
                        data-bs-placement="bottom" data-bs-trigger="hover" title="Ajout de polygones"
                        geom-type="Polygon">
                        <i class="bi bi-hexagon-fill"></i>
                    </button>

                    <button id="btn-drawing-layer-add-linestring" type="button"
                        class="btn btn-primary check-auth btn-drawing-layer-addfeature" toggle-tooltip="tooltip"
                        data-bs-placement="bottom" data-bs-trigger="hover" title="Ajout de lignes"
                        geom-type="LineString">
                        <i class="bi bi-slash-lg"></i>
                    </button>

                    <button id="btn-drawing-layer-add-point" type="button"
                        class="btn btn-primary check-auth btn-drawing-layer-addfeature" toggle-tooltip="tooltip"
                        data-bs-placement="bottom" data-bs-trigger="hover" title="Ajout de points" geom-type="Point">
                        <i class="bi bi-dot"></i>
                    </button>

                    <button id="btn-drawing-layer-modify" type="button"
                        class="btn btn-primary check-auth btn-drawing-layer-modify" toggle-tooltip="tooltip"
                        data-bs-placement="bottom" data-bs-trigger="hover" title="Outil de déplacement de noeuds"
                        geom-type="">
                        <i class="bi bi-magic"></i>
                    </button>

                    <!--<button 
                        id="btn-drawing-layer-add-circle" 
                        type="button" 
                        class="btn btn-primary check-auth btn-drawing-layer-addfeature" 
                        toggle-tooltip="tooltip" 
                        data-bs-placement="bottom" 
                        data-bs-trigger="hover" 
                        title="Ajouter un cercle"
                        geom-type="Circle"
                    >
                        <i id="icon-drawing-layer-edit-feature" class="bi bi-circle"></i>
                    </button>

                    <button 
                        id="btn-drawing-layer-add-box" 
                        type="button" 
                        class="btn btn-primary check-auth btn-drawing-layer-addfeature" 
                        toggle-tooltip="tooltip" 
                        data-bs-placement="bottom" 
                        data-bs-trigger="hover" 
                        title="Ajouter un rectangle"
                        geom-type="Box"
                    >
                        <i id="icon-drawing-layer-edit-feature" class="bi bi-square"></i>
                    </button>-->

                    <button id="btn-drawing-layer-remove-feature" type="button"
                        class="btn btn-primary check-auth disabled" toggle-tooltip="tooltip" data-bs-placement="bottom"
                        data-bs-trigger="hover" title="Supprimer un objet">
                        <i class="bi bi-trash"></i>
                    </button>

                    <button id="btn-drawing-layer-edit-feature-info" type="button" class="btn btn-primary check-auth"
                        toggle-tooltip="tooltip" data-bs-placement="bottom" data-bs-trigger="hover"
                        title="Cliquer sur un objet pour éditer ses données attributaires">
                        <i class="bi bi-journal-text"></i>
                    </button>

                    <!--<button id="btn-drawing-layer-save-features" type="button" class="btn btn-primary check-auth"
                        toggle-tooltip="tooltip" data-bs-placement="bottom" data-bs-trigger="hover"
                        title="Sauvegarder les modifications">
                        <i class="bi bi-sd-card"></i>
                    </button>-->
                </div>

                <!-- Bouton pour les outil de mesure-->
                <div id="measure-group-btn" class="edit-layer-btn-group hide">
                    <button id="btn-measure-area" type="button" class="btn btn-primary check-auth"
                        toggle-tooltip="tooltip" data-bs-placement="bottom" data-bs-trigger="hover"
                        title="Mesure de surface">
                        <i id="icon-measure-area" class="bi bi-heptagon"></i>
                    </button>

                    <button id="btn-measure-length" type="button" class="btn btn-primary check-auth"
                        toggle-tooltip="tooltip" data-bs-placement="bottom" data-bs-trigger="hover"
                        title="Mesure de longueur">
                        <i id="icon-measure-length" class="bi bi-slash-lg"></i>
                    </button>
                </div>

            </div>

            <!-- Bloc Recevant les coordonnées de la position du curseur-->
            <div id="bloc-coords"></div>

            <div id="attribute-data-container" class="hide">
                <div id="nav-attribute-table"></div>
                <div id="data-block">
                    <div id="layer-data-table"></div>
                </div>
            </div>

        </div>
    </div>
</div>




